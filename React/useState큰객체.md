## useState에서 크기가 큰 객체를 관리할때

* 리액트의 useState는 관리하는 것의 상태가 변하면 이전의 상태와 비교하여 다시 랜더링한다.
* 이때 관리하는 것이 매우 크기가 큰 객체이고, 이 객체의 정보 중 간단한 것을 변경했다하자.
  ```js
  const [userObj, setUserObj] = useState(null);

  const change = () => {
    // ... user의 값 중 하나를 변경하는 코드
    setUserObj(user) // user는 사용자의 정보를 담고 있는 큰 객체라 가정.
  }

  ```
* user에는 사용자의 수많은 정보가 들어있다하자. 이때 위와 같이 작성하고 user의 정보중 하나를 변경하고 다시 `setUserObj(user)` 를 했을때, 리액트가 이를 인지하지 못하고 제대로 랜더링을 못할 수 있다.   

* 원래대로라면 간단한 정보 하나만 바뀌어도 다시 랜더링 되어야한다. 하지만 거대한 객체를 관리할때는 리액트의 다소 복잡한 동작방식 때문에 원하는데로 동작하지 않을 수 있다.

* 이것을 해결하는 방법의 첫번쨰로는 객체를 작은 단위로 나누어서 사용하는 방법이다. 즉 내가 필요한 정보만 가져와서 관리한다는 것이다. 이렇게 사용하면 객체의 크기가 작아져 속도측면에서도 향상된다.
  ```js
  const change = () => {
    // user의 값들 중 사용할 값들로만 객체를 만들어 관리
    // ... 사용할 객체의 값들 중 하나를 변경하는 코드
    setUserObj({
      displayName: user.displayName,
      uid: user.uid,
      photoURL: user.photoURL,
    });
  }
  ```
* 또다른 방법으로는 빈 객체안에 새로운 값을 넣어 새로운 객체를 생성한 것 처럼 보이게해서
리액트가 새로운 객체가 생성되었다 인식하게하여 다시 렌더링 하도록 해주는 방법이 있다.
  ```js
  const change = () => {
    setUserObj(Object.assign({}, user));
  }
  ```
